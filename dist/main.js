(()=>{const e=document.querySelector("#btnSubmit"),t=document.querySelector("#textInput"),n=document.querySelector("#container"),r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=async e=>{const t=await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${e}&units=metric&APPID=0bf0593897df7259794fa8cd2be77e22`);return await t.json()};e.addEventListener("click",(()=>{null!==document.querySelector("#currentWeatherInfo")&&null!==document.querySelector("#weeklyWeatherInfo")&&(document.querySelector("#currentWeatherInfo").remove(),document.querySelector("#weeklyWeatherInfo").remove()),(e=>{const t=document.createElement("div");t.setAttribute("id","currentWeatherInfo");const r=document.createElement("div");r.setAttribute("id","leftSideDaily");const a=document.createElement("h3");a.setAttribute("id","cityName"),r.append(a);const o=document.createElement("p");o.setAttribute("id","tempDaily"),r.append(o);const i=document.createElement("p");i.setAttribute("id","wind"),r.append(i);const s=document.createElement("div");s.setAttribute("id","rightSideDaily");const d=document.createElement("img");d.setAttribute("src",""),d.setAttribute("id","iconWeatherDaily");const m=document.createElement("p");m.setAttribute("id","weather"),s.append(d),s.append(m),t.append(r,s),n.append(t),c(e).then((e=>{console.log(e),a.innerText=e.city.name,o.innerText=`${e.list[0].main.temp}° C`,i.innerText=`Wind: ${e.list[0].wind.speed} m/s`,d.src=`http://openweathermap.org/img/wn/${e.list[0].weather[0].icon}@2x.png`,m.innerText=e.list[0].weather[0].main})).catch((e=>{console.log(`Error message:${e.message}`),t.remove()}))})(t.value),(e=>{const t=document.createElement("div");t.setAttribute("id","weeklyWeatherInfo");for(let n=1;n<=5;n++){const a=document.createElement("div");a.setAttribute("class","day"),a.setAttribute("id",`day${n}`);const o=document.createElement("div");o.setAttribute("class","leftSideWeekly");const i=document.createElement("p");i.setAttribute("class","dayOfTheWeek"),o.append(i);const s=document.createElement("div");s.setAttribute("class","rightSideWeekly");const d=document.createElement("p");d.setAttribute("class","tempWeekly");const m=document.createElement("img");m.setAttribute("src",""),m.setAttribute("class","iconWeatherWeekly"),s.append(d,m),a.append(o,s),t.append(a),c(e).then((e=>{const t=new Date(e.list[0].dt_txt);i.innerText=r[(t.getDay()+n)%7];const c=(24-t.getHours())/3+(4+8*(n-1));d.innerText=`${e.list[c].main.temp}° C`,m.src=`http://openweathermap.org/img/wn/${e.list[c].weather[0].icon}@2x.png`})).catch((e=>{console.log(`Error message:${e.message}`),t.remove()}))}n.append(t)})(t.value)}))})();