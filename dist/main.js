(()=>{const e=document.querySelector("#btnSubmit"),t=document.querySelector("#textInput"),n=document.querySelector("#container"),r=async e=>{const t=await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${e}&units=metric&APPID=0bf0593897df7259794fa8cd2be77e22`);return await t.json()},c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=new Date("2021-07-25 18:00:00");console.log(a.getHours()),e.addEventListener("click",(()=>{null!==document.querySelector("#currentWeatherInfo")&&null!==document.querySelector("#weeklyWeatherInfo")&&(document.querySelector("#currentWeatherInfo").remove(),document.querySelector("#weeklyWeatherInfo").remove()),(e=>{const t=document.createElement("div");t.setAttribute("id","currentWeatherInfo");const c=document.createElement("div");c.setAttribute("id","leftSideDaily");const a=document.createElement("h3");a.setAttribute("id","cityName"),c.append(a);const i=document.createElement("p");i.setAttribute("id","tempDaily"),c.append(i);const o=document.createElement("p");o.setAttribute("id","wind"),c.append(o);const d=document.createElement("div");d.setAttribute("id","rightSideDaily");const s=document.createElement("img");s.setAttribute("src",""),s.setAttribute("id","iconWeatherDaily");const u=document.createElement("p");u.setAttribute("id","weather"),d.append(s),d.append(u),t.append(c,d),n.append(t),r(e).then((e=>{console.log(e),a.innerText=e.city.name,i.innerText=`${e.list[0].main.temp}° C`,o.innerText=`Wind: ${e.list[0].wind.speed} m/s`,s.src=`http://openweathermap.org/img/wn/${e.list[0].weather[0].icon}@2x.png`,u.innerText=e.list[0].weather[0].main}))})(t.value),(e=>{const t=document.createElement("div");t.setAttribute("id","weeklyWeatherInfo");for(let n=1;n<=5;n++){const a=document.createElement("div");a.setAttribute("class","day"),a.setAttribute("id",`day${n}`);const i=document.createElement("div");i.setAttribute("class","leftSideWeekly");const o=document.createElement("p");o.setAttribute("class","dayOfTheWeek"),i.append(o);const d=document.createElement("div");d.setAttribute("class","rightSideWeekly");const s=document.createElement("p");s.setAttribute("class","tempWeekly");const u=document.createElement("img");u.setAttribute("src",""),u.setAttribute("class","iconWeatherWeekly"),d.append(s,u),a.append(i,d),t.append(a),r(e).then((e=>{const t=new Date(e.list[0].dt_txt);o.innerText=c[t.getDay()+n];const r=(24-t.getHours())/3+(4+8*(n-1));s.innerText=`${e.list[r].main.temp}° C`,u.src=`http://openweathermap.org/img/wn/${e.list[r].weather[0].icon}@2x.png`}))}n.append(t)})(t.value)}))})();