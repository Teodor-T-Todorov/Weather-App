(()=>{"use strict";const e=document.querySelector("#container"),t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=document.querySelector("#btnSubmit"),r=document.querySelector("#textInput");n.addEventListener("click",(()=>{null===document.querySelector("#dailyContainer")&&null===document.querySelector("#weeklyContainer")||(document.querySelector("#dailyContainer").remove(),document.querySelector("#weeklyContainer").remove());const n=r.value;(t=>{const n=document.createElement("div");n.setAttribute("id","dailyContainer");const r=document.createElement("div");r.setAttribute("id","currentWeather");const c=document.createElement("div");c.setAttribute("id","lhsCurrent");const i=document.createElement("h3");i.setAttribute("id","cityName"),c.append(i);const a=document.createElement("p");a.setAttribute("id","tempCurrent"),c.append(a);const o=document.createElement("p");o.setAttribute("id","wind"),c.append(o);const d=document.createElement("div");d.setAttribute("id","rhsCurrent");const u=document.createElement("img");u.setAttribute("src",""),u.setAttribute("id","iWeatherCurrent");const s=document.createElement("p");s.setAttribute("id","weather"),d.append(u),d.append(s),r.append(c,d);const l=document.createElement("div");l.setAttribute("id","dailyWeather");for(let e=1;e<=8;e++){const t=document.createElement("div");t.setAttribute("class","dailyWeatherInfo"),t.setAttribute("id",`dailyWeatherInfo${e}`);const n=document.createElement("p");n.setAttribute("class","time"),n.setAttribute("id",`time${e}`);const r=document.createElement("img");r.setAttribute("src",""),r.setAttribute("class","iWeatherDaily"),r.setAttribute("id",`iWeatherDaily${e}`);const c=document.createElement("p");c.setAttribute("class","tempDaily"),c.setAttribute("id",`tempDaily${e}`),t.append(n,r,c),l.append(t)}n.append(r,l),e.append(n)})(),(t=>{const n=document.createElement("div");n.setAttribute("id","weeklyContainer");for(let e=1;e<=5;e++){const t=document.createElement("div");t.setAttribute("class","day"),t.setAttribute("id",`day${e}`);const r=document.createElement("div");r.setAttribute("class","lhsWeekly");const c=document.createElement("p");c.setAttribute("class","dayOfTheWeek"),c.setAttribute("id",`dayOfTheWeek${e}`),r.append(c);const i=document.createElement("div");i.setAttribute("class","rhsWeekly");const a=document.createElement("p");a.setAttribute("class","tempWeekly"),a.setAttribute("id",`tempWeekly${e}`);const o=document.createElement("img");o.setAttribute("src",""),o.setAttribute("class","iWeatherWeekly"),o.setAttribute("id",`iWeatherWeekly${e}`),i.append(a,o),t.append(r,i),n.append(t)}e.append(n)})(),(e=>{(async e=>{const t=await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${e}&units=metric&APPID=0bf0593897df7259794fa8cd2be77e22`);return await t.json()})(e).then((e=>{console.log(e),document.querySelector("#cityName").innerText=e.city.name,document.querySelector("#tempCurrent").innerText=`${e.list[0].main.temp}° C`,document.querySelector("#wind").innerText=`Wind: ${e.list[0].wind.speed} m/s`,document.querySelector("#iWeatherCurrent").src=`http://openweathermap.org/img/wn/${e.list[0].weather[0].icon}@2x.png`,document.querySelector("#weather").innerText=e.list[0].weather[0].main;for(let n=1;n<=8;n++){const r=new Date(e.list[n].dt_txt);if(document.querySelector(`#time${n}`).innerText=`${r.getHours()}:00`,document.querySelector(`#iWeatherDaily${n}`).src=`http://openweathermap.org/img/wn/${e.list[n].weather[0].icon}@2x.png`,document.querySelector(`#tempDaily${n}`).innerText=`${e.list[n].main.temp}° C`,n<=5){const r=new Date(e.list[0].dt_txt);document.querySelector(`#dayOfTheWeek${n}`).innerText=t[(r.getDay()+n)%7];let c=(24-r.getHours())/3+(4+8*(n-1));for(;c>39;)c--;document.querySelector(`#tempWeekly${n}`).innerText=`${e.list[c].main.temp}° C`,document.querySelector(`#iWeatherWeekly${n}`).src=`http://openweathermap.org/img/wn/${e.list[c].weather[0].icon}@2x.png`}}})).catch((e=>{console.log(`Error message:${e.message}`),null===document.querySelector("#dailyContainer")&&null===document.querySelector("#weeklyContainer")||(document.querySelector("#dailyContainer").remove(),document.querySelector("#weeklyContainer").remove())}))})(n)}))})();