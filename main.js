(()=>{const e=document.querySelector("#btnSubmit"),t=document.querySelector("#textInput"),n=document.querySelector("#container"),r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];e.addEventListener("click",(()=>{null!==document.querySelector("#currentWeatherInfo")&&null!==document.querySelector("#weeklyWeatherInfo")&&(document.querySelector("#currentWeatherInfo").remove(),document.querySelector("#weeklyWeatherInfo").remove());const e=t.value;(e=>{const t=document.createElement("div");t.setAttribute("id","currentWeatherInfo");const r=document.createElement("div");r.setAttribute("id","leftSideDaily");const c=document.createElement("h3");c.setAttribute("id","cityName"),r.append(c);const o=document.createElement("p");o.setAttribute("id","tempDaily"),r.append(o);const a=document.createElement("p");a.setAttribute("id","wind"),r.append(a);const i=document.createElement("div");i.setAttribute("id","rightSideDaily");const d=document.createElement("img");d.setAttribute("src",""),d.setAttribute("id","iconWeatherDaily");const u=document.createElement("p");u.setAttribute("id","weather"),i.append(d),i.append(u),t.append(r,i),n.append(t)})(),(e=>{const t=document.createElement("div");t.setAttribute("id","weeklyWeatherInfo");for(let e=1;e<=5;e++){const n=document.createElement("div");n.setAttribute("class","day"),n.setAttribute("id",`day${e}`);const r=document.createElement("div");r.setAttribute("class","leftSideWeekly");const c=document.createElement("p");c.setAttribute("class","dayOfTheWeek"),c.setAttribute("id",`dayOfTheWeek${e}`),r.append(c);const o=document.createElement("div");o.setAttribute("class","rightSideWeekly");const a=document.createElement("p");a.setAttribute("class","tempWeekly"),a.setAttribute("id",`tempWeekly${e}`);const i=document.createElement("img");i.setAttribute("src",""),i.setAttribute("class","iconWeatherWeekly"),i.setAttribute("id",`iconWeatherWeekly${e}`),o.append(a,i),n.append(r,o),t.append(n)}n.append(t)})(),(e=>{(async e=>{const t=await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${e}&units=metric&APPID=0bf0593897df7259794fa8cd2be77e22`);return await t.json()})(e).then((e=>{console.log(e),document.querySelector("#cityName").innerText=e.city.name,document.querySelector("#tempDaily").innerText=`${e.list[0].main.temp}° C`,document.querySelector("#wind").innerText=`Wind: ${e.list[0].wind.speed} m/s`,document.querySelector("#iconWeatherDaily").src=`http://openweathermap.org/img/wn/${e.list[0].weather[0].icon}@2x.png`,document.querySelector("#weather").innerText=e.list[0].weather[0].main;for(let t=1;t<=5;t++){console.log(t);const n=new Date(e.list[0].dt_txt);document.querySelector(`#dayOfTheWeek${t}`).innerText=r[(n.getDay()+t)%7];const c=(24-n.getHours())/3+(4+8*(t-1));document.querySelector(`#tempWeekly${t}`).innerText=`${e.list[c].main.temp}° C`,document.querySelector(`#iconWeatherWeekly${t}`).src=`http://openweathermap.org/img/wn/${e.list[c].weather[0].icon}@2x.png`}})).catch((e=>{console.log(`Error message:${e.message}`),document.querySelector("#currentWeatherInfo").remove(),document.querySelector("#weeklytWeatherInfo").remove()}))})(e)}))})();